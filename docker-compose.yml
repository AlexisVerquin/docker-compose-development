
db:
    image: percona
    volumes:
        - ./mysql:/var/lib/mysql
    env_file: conf/mysql
    ports:
        - 3306:3306

redis:
    image: redis

mailcatcher:
    image: schickling/mailcatcher

php5:
    image: srcoder/development_php:5.6-fpm
    volumes:
        - ./workspace:/data
    links:
        - db
        - mailcatcher
        - redis

php7:
    image: srcoder/development_php:7.1-fpm
    volumes:
        - ./workspace:/data
    links:
        - db
        - mailcatcher
        - redis

web:
    image: srcoder/development_web
    volumes:
        - ./workspace:/data:ro
    links:
        - php5:fpm

        - php5:fpm5
        - php7:fpm7

        - mailcatcher
    ports:
        - 80:80
        - 443:443

